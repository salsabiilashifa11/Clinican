#: import rgba kivy.utils.rgba

<RoundedTextInput@TextInput>:
    font_size: '14dp'
    background_color: 0,0,0,0
    cursor_color: (0,0,0,1)
    canvas.before:
        Color:
            rgba: (0,0,0,1)
    canvas.after:
        Color:
            rgba: (0,0,0,0)
        Ellipse:
            angle_start:180
            angle_end:360
            pos:(self.pos[0] - self.size[1]/2.0, self.pos[1])
            size: (self.size[1], self.size[1])
        Ellipse:
            angle_start:360
            angle_end:540
            pos: (self.size[0] + self.pos[0] - self.size[1]/2.0, self.pos[1])
            size: (self.size[1], self.size[1])
        Color:
            rgba: rgba('#A6A6A6')
        Line:
            width: 1.1
            points: self.pos[0] , self.pos[1], self.pos[0] + self.size[0], self.pos[1]
        Line:
            width: 1.1
            points: self.pos[0], self.pos[1] + self.size[1], self.pos[0] + self.size[0], self.pos[1] + self.size[1]
        Line:
            width: 1.1
            ellipse: self.pos[0] - self.size[1]/2.0, self.pos[1], self.size[1], self.size[1], 180, 360
        Line:
            width: 1.1
            ellipse: self.size[0] + self.pos[0] - self.size[1]/2.0, self.pos[1], self.size[1], self.size[1], 360, 540


<RoundedButton@Button>:
    background_color: rgba('#53CBFF')
    background_normal: ''
    canvas.before:
        Color:
            rgba: (0,0,0,1)
    canvas.after:
        Color:
            rgba: rgba('#53CBFF')
        Ellipse:
            angle_start:180
            angle_end:360
            pos:(self.pos[0] - self.size[1]/2.0, self.pos[1])
            size: (self.size[1], self.size[1])
        Ellipse:
            angle_start:360
            angle_end:540
            pos: (self.size[0] + self.pos[0] - self.size[1]/2.0, self.pos[1])
            size: (self.size[1], self.size[1])
        Color:
            rgba: rgba('#53CBFF')
        Line:
            width: 1.5
            points: self.pos[0] , self.pos[1], self.pos[0] + self.size[0], self.pos[1]
        Line:
            width: 1.5
            points: self.pos[0], self.pos[1] + self.size[1], self.pos[0] + self.size[0], self.pos[1] + self.size[1]
        Line:
            width: 1.5
            ellipse: self.pos[0] - self.size[1]/2.0, self.pos[1], self.size[1], self.size[1], 180, 360
        Line:
            width: 1.5
            ellipse: self.size[0] + self.pos[0] - self.size[1]/2.0, self.pos[1], self.size[1], self.size[1], 360, 540


<AltUserButton@Button>:
    background_color: (0,0,0,0)
    canvas.before:
        Color:
            rgba: rgba('#FFFFFF') if self.state=='normal' else rgba('#53CBFF')
        RoundedRectangle:
            pos: (self.pos[0] + self.size[0]/6, self.pos[1] + self.size[1]/4)
            size: (60,60)
            radius: [50, 50, 50, 50]

<SigninWindow>:
    id: signin_win
    orientation: 'vertical'
    canvas:
        Rectangle:
            size: self.size
            pos: self.pos
            source: '../img/samplebg.jpg'

    Label:
        size_hint_y: 0.2

    BoxLayout:
        orientation: 'vertical'
        padding: 1.1*self.size[0]/3, 0
        canvas:
            Color:
                rgba: (1,1,1,1)
            RoundedRectangle:
                size: (self.size[0]/3, self.size[1])
                pos: (self.pos[0]+self.size[0]/3, self.pos[1])
                radius: [15, ]

        Label:
            size_hint_y: None
            height: 130
            text: 'Sign In'
            bold: True
            text_size: self.size
            halign: 'center'
            valign: 'bottom'
            padding_y: 20
            font_size: 50
            color: rgba('#6f6f6f')

        Label:
            size_hint_y: None
            height: 50
            text: 'CUSTOMER'
            bold: False
            text_size: self.size
            halign: 'center'
            valign: 'top'
            padding_x: 90
            font_size: 22
            color: rgba('#6f6f6f')

        BoxLayout:
            orientation: 'vertical'
            spacing: 20
            size_hint_y: None
            height: 110

            RoundedTextInput:
                id: username_field
                hint_text: 'Username'
                multiline: False
                font_size: 16
                padding: 0, 10
                on_text_validate: pass_field.focus = True

            RoundedTextInput:
                id: pass_field
                hint_text: 'Password'
                multiline: False
                font_size: 16
                password: True
                padding: 0, 10
                on_text_validate: root.validate_account()

        Label:
            size_hint_y: None
            height: 20

        RoundedButton:
            text: 'Sign In'
            font_size: 16
            size_hint_y: None
            height: 45
            on_release: root.validate_account()

        Label:
            id: message
            text: ''
            font_size: 16
            markup: True

        BoxLayout:
            Label:
                size_hint_x: 0.6

            Button:
                id: to_signup
                size_hint_x: 0.4
                background_color: (0,0,0,0)
                text: 'Sign up instead!'
                font_size: 17
                #bold: True
                color: rgba('#292775')
                text_size: self.size
                halign: 'right'
                padding_y: 40
                on_release: root.to_signup()


    BoxLayout:
        size_hint_y: 0.2
        canvas:
            Color:
                rgba: (1,1,1,0)
            Rectangle:
                size: self.size
                pos: self.pos

        Label:
            size_hint_x: 0.84

        AltUserButton:
            size_hint_x:  0.07
            canvas:
                Rectangle:
                    size: (35,35)
                    pos: (self.pos[0] + self.size[0]/4 + 5, self.pos[1] + self.size[1]/3 + 3)
                    source: '../img/yellowheart.png'
            on_release: root.to_signinapoteker()

        AltUserButton:
            size_hint_x: 0.07
            canvas:
                Rectangle:
                    size: (35,35)
                    pos: (self.pos[0] + self.size[0]/4 + 5, self.pos[1] + self.size[1]/3 + 3)
                    source: '../img/redheart.png'
            on_release: root.to_signindokter()

        Label:
            size_hint_x: 0.02
